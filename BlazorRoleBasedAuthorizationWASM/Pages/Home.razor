@page "/"
@using Microsoft.AspNetCore.Components.Authorization

@inject AuthStateProvider AuthStateProvider
@inject NavigationManager NavigationManager

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.
<div class="mb-5">
    <button type="button" class=" btn btn-sm btn-primary" @onclick="LoginasGuest">Login as Guest</button>
</div>
<button type="button" class=" btn btn-sm btn-info" @onclick="LoginAsAdmin">Login as Admin</button>

<AuthorizeView>
    <Authorizing>
        <p>Authorizing...</p>
    </Authorizing>
    <NotAuthorized>
        <p class="text-danger">Not Authorized</p>
    </NotAuthorized>
    <Authorized>
        <h3>Hi @context.User.Identity!.Name</h3>
        <p class="text-succes">User is Authorized</p>
    </Authorized>
</AuthorizeView>

@code {

    private void LoginasGuest()
    {
        AuthStateProvider.LoginAsGuest();
    }
    private void LoginAsAdmin()
    {
        AuthStateProvider.LoginAsAdmin();
    }
}